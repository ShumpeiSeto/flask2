{% extends 'testtemp/layout.html' %}
{% block content %}
  <div class="container vh-100 px-2 py-0">
    <h3 class="text-center">マイタスク</h3>
    <div class="row h-auto justify-content-center align-items-start">
      <div class="col-12 col-md-8 col-lg-5 col-xl-4">
        <h4>未完了タスク</h4>
        <table class="table table-light table-hover table-bordered">
          <thead>
            <tr>
              <th scope="col" class="py-1 p-md-2 text-center">#</th>
              <th scope="col" class="py-1 p-md-2 text-center">タスク名</th>
              <th scope="col" class="py-1 p-md-2 text-center">期限日</th>
              <th scope="col" class="py-1 p-md-2 text-center">期限時間</th>
              <th scope="col" class="py-1 p-md-2 text-center">操作</th>
            </tr>
          </thead>
          <tbody>
            {% for nc_task in nc_tasks %}
              <tr>
                <th scope="row" class="py-1 p-md-2">
                  <a href="{{ url_for('check_task', task_id=nc_task['task_id']) }}" class="check_box_a">
                    <button type="button" class="btn btn-light rounded-circl py-0 check_box_b">✔</button>
                  </a>
                </th>
                <td class="py-1 p-md-2 text-center">
                  <label class="form-check-label" for="firstCheckbox">{{ nc_task['title']}}</label>
                </td>
                <td class="py-1 p-md-2 text-center">
                  <label class="deadline" for="deadline">{{ nc_task['deadline'].strftime('%y/%m/%d(%a)') }}</label>
                </td>
                <td class="py-1 p-md-2 text-center">
                  <label class="deadline" for="deadline">{{ nc_task['deadline'].strftime('%H:%m') }}</label>
                </td>
                <td class="py-1 p-md-2 text-center">
                  {# <a href="{{ url_for('edit_task', task_id=nc_task['task_id']) }}">編集</a> #}
                  <a href="{{ url_for('edit_task', task_id=nc_task['task_id']) }}"><button type="button" class="btn btn-primary py-1">編集</button></a>
                  {# <a href="{{ url_for('delete_task', task_id=nc_task['task_id']) }}">削除</a> #}
                  <a href="{{ url_for('delete_task', task_id=nc_task['task_id']) }}"><button type="button" class="btn btn-danger py-1">削除</button></a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
        <div class="add_new_task_button text-center">
          <a href="{{ url_for('add_task')}}">
          <button type="button" class="btn btn-primary">
          新規タスク登録
            </button></a>
        </div>
      </div>
    </div>

    <div class="row h-auto justify-content-center align-items-start">
      <div class="col-12 col-md-8 col-lg-5 col-xl-4">
        <h4>完了済みタスク</h4>
        <table class="table table-light table-hover table-bordered">
          <thead>
            <tr>
              <th scope="col" class="p-1 p-md-2 text-center">#</th>
              <th scope="col" class="p-1 p-md-2 text-center">タスク名</th>
              <th scope="col" class="p-1 p-md-2 text-center">期限日</th>
              <th scope="col" class="p-1 p-md-2 text-center">期限時間</th>
              <th scope="col" class="p-1 p-md-2 text-center">操作</th>
            </tr>
          </thead>
          <tbody>
            {% for c_task in c_tasks %}
              <tr>
                <th scope="row" class="p-1 p-md-2 text-center">
                  <a href="{{ url_for('check_task', task_id=c_task['task_id']) }}" class="check_box_a">
                <button type="button" class="btn btn-light rounded-circl p-0 check_box_b">済</button>
                  </a>
                </th>
                <td class="p-0 p-md-2 text-center">
                  <label class="comp_task_name text-decoration-line-through" for="firstCheckbox">{{ c_task['title']}}</label>
                </td>
                <td class="p-0 p-md-2 text-center">
                  <label class="comp_task_deadline text-decoration-line-through" for="deadline">{{ c_task['deadline'].strftime('%y/%m/%d(%a)') }}</label>
                </td>
                <td class="p-0 p-md-2 text-center">
                  <label class="comp_task_deadline text-decoration-line-through" for="deadline">{{ c_task['deadline'].strftime('%H:%M')}}</label>
                </td>
                <td class="p-0 p-md-2 text-center">
                  {# <a href="{{ url_for('delete_task', task_id=c_task['task_id']) }}">削除</a> #}
                  <a href="{{ url_for('delete_task', task_id=c_task['task_id']) }}"><button type="button" class="btn btn-danger p-0">削除</button></a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
{% endblock %}
